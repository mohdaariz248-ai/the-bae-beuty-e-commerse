<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>THE BAE BEAUTY SHOP!</title>
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#000000">
<style>
  *{box-sizing:border-box;margin:0;padding:0}
  body{font-family:Arial,sans-serif;background:#111;color:#fff;min-height:100vh}
  .header{display:flex;align-items:center;gap:16px;padding:12px 18px;background:#000;color:#FFD700}
  .logo{font-size:20px;font-weight:700;color:#FFD700}
  .search-box{flex:1;display:flex}
  .search-box input{width:100%;padding:8px;border:1px solid #FFD700;background:#222;color:#fff;border-radius:4px 0 0 4px}
  .search-box button{padding:8px 12px;border:none;background:#FFD700;color:#000;font-weight:700;border-radius:0 4px 4px 0;cursor:pointer}
  .nav-links{display:flex;gap:12px;align-items:center}
  .nav-links a{color:#FFD700;text-decoration:none;cursor:pointer}
  .banner{text-align:center;padding:26px 10px;background:#000;color:#FFD700}
  .products{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:20px;padding:30px}
  .product-card{background:#1a1a1a;padding:12px;border-radius:8px;text-align:center;box-shadow:0 2px 6px rgba(0,0,0,0.5);cursor:pointer}
  .product-card img{width:100%;height:200px;object-fit:contain;border:2px solid #FFD700;padding:8px;background:#111;border-radius:6px}
  .footer{background:#000;color:#FFD700;text-align:center;padding:12px;margin-top:30px}
  .cart-panel{position:fixed;inset:0;background:#1a1a1a;color:#fff;padding:20px;z-index:999;display:none;overflow:auto}
  .cart-panel.open{display:block}
  .close-cart{background:#FFD700;color:#000;border:none;padding:6px 10px;cursor:pointer;font-weight:700;border-radius:6px;float:right}
  .cart-item{display:flex;align-items:center;justify-content:space-between;padding:8px 6px;border-bottom:1px solid rgba(255,215,0,0.06)}
  .cart-item img{width:60px;height:60px;object-fit:cover;border:2px solid #FFD700;border-radius:6px}
  .buy-now-btn{display:block;margin-top:18px;width:100%;padding:12px;border:none;background:#FFD700;color:#000;font-weight:700;border-radius:6px;cursor:pointer}
  .overlay{position:fixed;inset:0;background:rgba(0,0,0,0.75);z-index:900;display:none}
  .modal{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);background:#1a1a1a;padding:18px;border-radius:8px;border:2px solid #FFD700;z-index:1000;width:92%;max-width:780px;max-height:90vh;overflow:auto;display:none}
  .modal.open{display:block}
  .modal img{width:100%;height:320px;object-fit:contain;border:2px solid #FFD700;background:#111;border-radius:6px}
  .qty-controls button{padding:6px 10px;border:none;background:#FFD700;color:#000;font-weight:700;border-radius:6px;cursor:pointer}
  .qty-display{min-width:36px;text-align:center;display:inline-block}
  @media(min-width:1024px){.product-card img{height:260px}.modal img{height:420px}}
  @media(max-width:520px){.header{flex-direction:column;gap:8px;padding:10px}.search-box{order:2}.logo{order:1}.nav-links{order:3;justify-content:flex-end}.product-card img{height:180px}.modal img{height:280px}}
  /* Fullscreen login lock */
  #loginScreen{position:fixed;inset:0;background:#000;color:#FFD700;display:flex;align-items:center;justify-content:center;flex-direction:column;z-index:2000}
  #loginScreen button{margin-top:20px;padding:12px 18px;background:#FFD700;color:#000;font-weight:700;border:none;border-radius:6px;cursor:pointer}
</style>
</head>
<body>
  <!-- Fullscreen login block -->
  <div id="loginScreen">
    <h1>LOGIN FIRST</h1>
    <button onclick="googleLogin()">Login with Google</button>
  </div>

  <!-- Main Website -->
  <div id="mainSite" style="display:none">
    <header class="header">
      <div class="logo">THE BAE BEAUTY SHOP!</div>
      <div class="search-box"><input id="searchInput" placeholder="Search..." oninput="searchProducts()" /><button onclick="searchProducts()">üîç</button></div>
      <div class="nav-links" id="navLinks">
        <span id="welcomeText" style="display:none"></span>
        <a id="logoutBtn" onclick="logout()" style="display:none">Logout</a>
        <a onclick="openCart()">Cart üõí (<span id="cartCount">0</span>)</a>
      </div>
    </header>

    <section class="banner"><h1>WELCOME TO THE BAE BEAUTY SHOP!!</h1><p>Deals. Discounts. Delivered.</p></section>

    <section class="products">
      <div class="product-card" data-name="LIPSTICK" data-price="150" onclick="openProductModalFromCard(this)">
        <img src="https://www.ecosattvastore.com/media/catalog/product/cache/731d4a550075ebece82647cba30eb8c3/7/1/71u8whfkyrl._sx679_.jpg"/>
        <h3>LIPSTICK</h3>
        <p>‚Çπ150</p>
        <p class="desc" style="font-size:13px;color:#ccc">‚ú®Premium matte lipstick with oils & vitamin E.</p>
      </div>
    </section>

    <div class="cart-panel" id="cartPanel">
      <button class="close-cart" onclick="closeCart()">‚úñ</button>
      <h2>Your Cart</h2>
      <div class="cart-items" id="cartItems"><p>No items yet.</p></div>
      <div style="margin-top:18px"><h3>Delivery: ‚Çπ50</h3><h2 id="cartTotal">Total: ‚Çπ0</h2></div>
      <button class="buy-now-btn" onclick="openCheckout()">Buy Now</button>
    </div>

    <!-- Product Modal -->
    <div class="overlay" id="overlay"></div>
    <div class="modal" id="productModal">
      <button onclick="closeProductModal()" style="float:right;background:#FFD700;color:#000;border:none;padding:6px 8px;border-radius:6px">Close</button>
      <h2 id="modalTitle"></h2>
      <img id="modalImg"/>
      <p id="modalDesc" style="margin:10px 0;color:#ccc"></p>
      <div style="display:flex;justify-content:space-between;align-items:center">
        <strong id="modalPrice" style="color:#FFD700"></strong>
        <div><button onclick="modalChangeQty(-1)">-</button><span id="modalQty" class="qty-display">1</span><button onclick="modalChangeQty(1)">+</button></div>
      </div>
      <div style="margin-top:14px;display:flex;gap:10px">
        <button onclick="modalAddToCart()" style="flex:1;background:#FFD700;color:#000;border:none;padding:10px;font-weight:700;border-radius:6px">Add to Cart</button>
        <button onclick="openCheckout()" style="flex:1;border:1px solid #FFD700;background:transparent;color:#FFD700;padding:10px;border-radius:6px">Buy Now</button>
      </div>
    </div>

    <!-- Checkout Form -->
    <div class="modal" id="checkoutModal" style="max-width:420px">
      <button onclick="closeCheckout()" style="float:right;background:#FFD700;color:#000;border:none;padding:6px 8px;border-radius:6px">Close</button>
      <h2 style="color:#FFD700">Checkout</h2>
      <form id="checkoutForm" action="https://formspree.io/f/xandvppw" method="POST">
        <label>Name:</label><input type="text" name="name" required />
        <label>Phone No:</label><input type="text" name="phone" required />
        <label>Address:</label><textarea name="address"></textarea>
        <label>Pincode:</label><input type="text" name="pincode"/>
        <label>Country:</label>
        <select name="country" disabled><option selected>India</option></select>
        <label>State:</label>
        <select name="state" required>
          <option value="">Select State</option>
          <option>Uttar Pradesh</option><option>Maharashtra</option><option>Delhi</option><option>Bihar</option>
          <option>Madhya Pradesh</option><option>Punjab</option><option>Haryana</option><option>Rajasthan</option>
          <option>Karnataka</option><option>Tamil Nadu</option><option>Kerala</option><option>West Bengal</option>
          <option>Gujarat</option><option>Odisha</option><option>Assam</option><option>Jharkhand</option>
          <option>Chhattisgarh</option><option>Himachal Pradesh</option><option>Uttarakhand</option>
          <option>Telangana</option><option>Andhra Pradesh</option>
        </select>
        <label>City:</label>
        <select name="city" required>
          <option value="">Select City</option>
          <option>Delhi</option><option>Mumbai</option><option>Kolkata</option><option>Chennai</option>
          <option>Bengaluru</option><option>Hyderabad</option><option>Lucknow</option><option>Kanpur</option>
          <option>Pune</option><option>Jaipur</option><option>Ahmedabad</option><option>Varanasi</option>
          <option>Patna</option><option>Bhopal</option><option>Indore</option><option>Chandigarh</option>
          <option>Amritsar</option><option>Surat</option><option>Vadodara</option><option>Bhubaneswar</option>
          <option>Guwahati</option><option>Ranchi</option><option>Raipur</option><option>Shimla</option>
          <option>Dehradun</option><option>Visakhapatnam</option><option>Warangal</option><option>Coimbatore</option>
          <option>Madurai</option><option>Kochi</option><option>Thiruvananthapuram</option>
        </select>
        <input type="hidden" name="order_items" id="orderItemsInput"/>
        <label><input type="checkbox" name="cod"/> Cash on Delivery</label>
        <button type="submit" style="margin-top:12px;background:#FFD700;color:#000;border:none;padding:10px;font-weight:700;border-radius:6px">Place Order</button>
      </form>
    </div>

    <footer class="footer"><p>&copy; 2025 THE BAE BEAUTY SHOP . All rights reserved.</p></footer>
  </div>

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/10.12.5/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.5/firebase-auth-compat.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyAAEpjbx1EY14IRe9CJlM3wqerJEFmPu6Q",
      authDomain: "the-bae-beauty.firebaseapp.com",
      projectId: "the-bae-beauty",
      storageBucket: "the-bae-beauty.firebasestorage.app",
      messagingSenderId: "989629586947",
      appId: "1:989629586947:web:e333a2f2d68a54ffd57836",
      measurementId: "G-N2PG8QGDE2"
    };

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    auth.onAuthStateChanged(user => {
      if (user) {
        document.getElementById("loginScreen").style.display = "none";
        document.getElementById("mainSite").style.display = "block";
        document.getElementById("welcomeText").style.display = "inline";
        document.getElementById("welcomeText").innerText =
          "Welcome " + (user.displayName || user.email);
        document.getElementById("logoutBtn").style.display = "inline";
      } else {
        document.getElementById("loginScreen").style.display = "flex";
        document.getElementById("mainSite").style.display = "none";
      }
    });

    function googleLogin() {
      const provider = new firebase.auth.GoogleAuthProvider();
      auth.signInWithPopup(provider).catch(err => {
        alert("Login failed: " + err.message);
      });
    }

    function logout() {
      auth.signOut();
    }
  </script>

  <!-- Cart + Shop Functions -->
  <script>
    let cart=JSON.parse(localStorage.getItem("cart_v1"))||[];const DELIVERY=50;
    function saveCart(){localStorage.setItem("cart_v1",JSON.stringify(cart));updateCartCount();}
    function updateCartCount(){document.getElementById("cartCount").innerText=cart.reduce((s,i)=>s+i.qty,0);}
    function openCart(){document.getElementById("cartPanel").classList.add("open");renderCart();}
    function closeCart(){document.getElementById("cartPanel").classList.remove("open");}
    function renderCart(){const el=document.getElementById("cartItems");el.innerHTML="";if(cart.length===0){el.innerHTML="<p>No items yet.</p>";document.getElementById("cartTotal").innerText="Total: ‚Çπ0";updateCartCount();return;}let total=DELIVERY;cart.forEach((it,i)=>{total+=it.price*it.qty;el.innerHTML+=`<div class="cart-item"><div style="display:flex;align-items:center;gap:8px"><img src="${it.img}"/><div>${it.name}</div></div><div><button onclick="changeQty(${i},-1)">-</button>${it.qty}<button onclick="changeQty(${i},1)">+</button></div><div>‚Çπ${it.price*it.qty}</div></div>`});document.getElementById("cartTotal").innerText="Total: ‚Çπ"+total;updateCartCount();}
    function changeQty(i,d){cart[i].qty+=d;if(cart[i].qty<=0)cart.splice(i,1);if(cart[i]?.qty>3)cart[i].qty=3;saveCart();renderCart();}
    function searchProducts(){const q=document.getElementById("searchInput").value.toLowerCase();document.querySelectorAll(".product-card").forEach(c=>{const name=c.getAttribute("data-name").toLowerCase();const desc=(c.querySelector(".desc")?.innerText||"").toLowerCase();c.style.display=(name.includes(q)||desc.includes(q))?"block":"none";});}
    let modal={name:"",price:0,img:"",desc:"",qty:1};
    function openProductModalFromCard(el){modal.name=el.dataset.name;modal.price=+el.dataset.price;modal.img=el.querySelector("img").src;modal.desc=el.querySelector(".desc")?.innerText||"";modal.qty=1;document.getElementById("modalTitle").innerText=modal.name;document.getElementById("modalPrice").innerText="‚Çπ"+modal.price;document.getElementById("modalImg").src=modal.img;document.getElementById("modalDesc").innerText=modal.desc;document.getElementById("modalQty").innerText=1;document.getElementById("overlay").style.display="block";document.getElementById("productModal").classList.add("open");}
    function closeProductModal(){document.getElementById("overlay").style.display="none";document.getElementById("productModal").classList.remove("open");}
    function modalChangeQty(d){modal.qty+=d;if(modal.qty<1)modal.qty=1;if(modal.qty>3)modal.qty=3;document.getElementById("modalQty").innerText=modal.qty;}
    function modalAddToCart(){const ex=cart.find(i=>i.name===modal.name);if(ex){ex.qty=Math.min(3,ex.qty+modal.qty);}else{cart.push({name:modal.name,img:modal.img,qty:modal.qty,price:modal.price});}saveCart();renderCart();closeProductModal();alert(modal.name+" added to cart");}
    function openCheckout(){if(cart.length===0){alert("Cart empty");return;}document.getElementById("orderItemsInput").value=cart.map(i=>`${i.name} x${i.qty}`).join(", ");document.getElementById("overlay").style.display="block";document.getElementById("checkoutModal").classList.add("open");}
    function closeCheckout(){document.getElementById("overlay").style.display="none";document.getElementById("checkoutModal").classList.remove("open");}
    document.getElementById("checkoutForm").addEventListener("submit",function(e){e.preventDefault();alert("Order placed!");cart=[];saveCart();renderCart();closeCheckout();closeCart();});
    renderCart();
  </script>
</body>
</html>
